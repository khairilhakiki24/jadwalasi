<!DOCTYPE html>
<html>
<head>
	<title>Pelacak Jadwal Pemberian ASI</title>
	<!-- Load Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<!-- Load jQuery -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<!-- Load Bootstrap JS -->
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
	<script>
		var feedings = [];

		function addFeeding() {
			var date = $("#date").val();
			var time = $("#time").val();
			var side = $("input[name='side']:checked").val();

			if (date === "" || time === "" || side === undefined) {
				alert("Mohon isi semua kolom.");
			} else {
				feedings.push({ date: date, time: time, side: side });
				$("#feedingsTable").append("<tr><td>" + date + "</td><td>" + time + "</td><td>" + side + "</td></tr>");
			}
		}

		function clearFeedings() {
			feedings = [];
			$("#feedingsTable").html("");
		}

		// Download schedule function
function downloadSchedule() {
  // Create a blob containing the schedule table
  var tableHtml = '<html><head><title>Jadwal Pemberian ASI</title>';
  tableHtml += '<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">';
  tableHtml += '</head><body><div class="container mt-4"><h2>Jadwal Pemberian ASI</h2><table class="table table-striped mt-4"><thead><tr><th>Tanggal</th><th>Waktu</th><th>Sisi yang Diberikan</th></tr></thead><tbody>';
  for (var i = 0; i < feedings.length; i++) {
    tableHtml += '<tr><td>' + feedings[i].date + '</td><td>' + feedings[i].time + '</td><td>' + feedings[i].side + '</td></tr>';
  }
  tableHtml += '</tbody></table></div></body></html>';
  var tableBlob = new Blob([tableHtml], { type: 'application/pdf' }); // Change the MIME type to pdf

  // Create a download link for the blob
  var downloadLink = document.createElement('a');
  downloadLink.href = URL.createObjectURL(tableBlob);
  downloadLink.download = 'Jadwal_Pemberian_ASI.pdf'; // Change the filename to .pdf

  // Open the pdf in new tab instead of downloading it
  downloadLink.target = '_blank';
  document.body.appendChild(downloadLink);
  downloadLink.click();
}

	</script>
</head>
<body>
	<div class="container mt-4">
		<h1>Pelacak Jadwal Pemberian ASI</h1>
		<p>Masukkan data jadwal pemberian ASI:</p>
		<div class="form-group">
			<label for="date">Tanggal:</label>
			<input type="date" id="date" class="form-control">
		</div>
		<div class="form-group">
			<label for="time">Waktu:</label>
			<input type="time" id="time" class="form-control">
		</div>
		<div class="form-group">
			<label>Sisi yang diberikan:</label>
			<div class="form-check">
				<input type="radio" name="side" id="left" value="Kiri" class="form-check-input">
				<label for="left">Kiri</label>
			</div>
			<div class="form-check">
				<input type="radio" name="side" id="right" value="Kanan" class="form-check-input">
				<label for="right">Kanan</label>
			</div>
		</div>
		<button class="btn btn-primary" onclick="addFeeding()">Tambah</button>
		<button class="btn btn-danger" onclick="clearFeedings()">Hapus Semua</button>
		<button class="btn btn-success" onclick="downloadSchedule()">Unduh Jadwal</button>
		<table class="table table-striped mt-4">
			<thead>
				<tr>
					<th>Tanggal</th>
					<th>Waktu</th>
					<th>Sisi yang Diberikan</th>
				</tr>
			</thead>
			<tbody id="feedingsTable">
			</tbody>
		</table>
	</div>
</body>
</html>